




<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Animation in Angular is now easy and more intuitive... Learn foundational animation concepts and start animating your Angular components!">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="thoughtram">
    <title>Angular Animations - Foundation Concepts by thoughtram</title>
    <meta name="google-site-verification" content="o9eGPEgIETEqYGombq7NiQuBIB_qa6gz1yAL7PxKyK0">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#4D8799">
    <link rel="icon" sizes="192x192" href="/images/touch/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="thoughtram">
    <link rel="apple-touch-icon" href="/images/touch/apple-touch-icon.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#4D8799">

    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Angular Animations - Foundation Concepts">
    <meta property="og:description" content="Animation in Angular is now easy and more intuitive... Learn foundational animation concepts and start animating your Angular components!">
    <meta property="og:url" content="http://blog.thoughtram.io/angular/2016/09/16/angular-2-animation-important-concepts.html">
    <meta property="og:site_name" content="Articles by thoughtram">
    <meta property="og:image" content="http://blog.thoughtram.io/images/banner/angular-2-component-animations.jpg">
    <meta property="og:publisher" content="http://www.facebook.com/thoughtram">

    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="Angular Animations - Foundation Concepts">
    <meta property="twitter:site" content="thoughtram Blog">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css" type="text/css">
  </head>
  <body class="sub-site">
    <!-- Add your site or app content here -->

    <!--[if lt IE 10]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <header class="thtrm-header" role="banner">
      <div class="thtrm-header-bar">
        <div class="thtrm-constraint">
          <a href="http://thoughtram.io" class="thtrm-header-logo-link" title="thoughtram.io Start Page"><h1 class="thtrm-header-logo">thoughtram</h1></a>
          <div class="thtrm-header-menu-wrapper">
            <span role="button" tabindex="0" class="thtrm-header-menu-label">Menu</span>
            <ul class="thtrm-header-menu">
              <li><a title="Training" class="thtrm-header-menu-item" href="http://thoughtram.io/training.html">Training</a></li>
              <li><a title="Code Review" class="thtrm-header-menu-item" href="http://thoughtram.io/code-review.html">Code Review</a></li>
              <li><a title="Casts" class="thtrm-header-menu-item " href="http://casts.thoughtram.io">Casts</a></li>
              <li><a title="Blog" class="thtrm-header-menu-item" href="/">Blog</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <main role="main" class="thtrm-main">
    <div class="thtrm-banner" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%), url('/images/banner/angular-2-component-animations.jpg');">
        <hgroup class="thtrm-banner-container">
          <div class="thtrm-constraint thtrm-constraint--slim">
            <h2 class="thtrm-banner-text">Angular Animations - Foundation Concepts</h2>
            <span>by <a href="http://twitter.com/" title="Thomas Burleson on Twitter">Thomas Burleson</a> on Sep 16, 2016, last updated on Apr 1, 2017<br>13 minute read</span>

          </div>
        </hgroup>
      </div>
      <div class="thtrm-constraint thtrm-constraint--slim">

        <section class="thtrm-ad thtrm-section thtrm-section--is-promo is-sticky">
  <img width="100" src="/images/angular2-shield-inverse.svg">
  <h3 class="thtrm-section-headline">Angular Master Class in Las Palmas</h3>
  <p class="thtrm-section-text">Join our upcoming public training!</p>
  <a href="https://www.codecamps.com/aiff4/" title="Angular Master Class in Las Palmas" id="event-cta" class="thtrm-layout-divider-cta">Get a ticket <strong>&rarr;</strong></a>
</section>

        <div class="thtrm-article">

          <p>Animations features often are scary goals for developers. And Angular’s doctrine</p>

<blockquote>
  <p>“… controllers should not directly modify DOM elements!”</p>
</blockquote>

<p>made Animation features intimidating as hell. But <strong>Angular animations are not scary!</strong> Templates are closely associated/integrated with <code>@Component</code>. We will notice that animations following a similar pattern.</p>

<p>Let’s build a component that hides and shows its contents, uses fade animation effects, and allows external components to easily trigger those fade effects.</p>

<h3 id="our-scenario">Our Scenario</h3>

<p>Here is a simple Angular component with hide and show features. This sample, however, does not have animations (yet):</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="s1">'my-fader'</span><span class="p">,</span>
    <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="o">*</span><span class="nx">ngIf</span><span class="o">=</span><span class="s2">"visibility == 'shown'"</span> <span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>      <span class="nx">Can</span> <span class="nx">you</span> <span class="nx">see</span> <span class="nx">me</span><span class="p">?</span> 
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">MyComponent</span> <span class="kr">implements</span> <span class="nx">OnChanges</span> <span class="p">{</span>
  <span class="nx">visibility</span> <span class="o">=</span> <span class="s1">'shown'</span><span class="p">;</span>

  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">isVisible</span> <span class="p">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="nx">ngOnChanges</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isVisible</span> <span class="p">?</span> <span class="s1">'shown'</span> <span class="p">:</span> <span class="s1">'hidden'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p>This component simply publishes an <code>@Input() isVisible</code> property; which allows other external components to show/hide the text content… without any animations.</p>

<iframe src="http://embed.plnkr.co/vUPTsY/?deferRun" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<h3 id="enable-animations-module">Enable Animations Module</h3>

<p>Since Angular 4.x, there’s a new module <code>BrowserAnimationsModule</code> that introduces all animation capabilities. That’s why we first have add that to our application module’s <code>imports</code> like this:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserAnimationsModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@angular/platform-browser/animations'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
  <span class="na">imports</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">...</span>
    <span class="nx">BrowserAnimationsModule</span>
  <span class="p">]</span>
  <span class="p">...</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{}</span></code></pre></div>

<p>Once that is done, we can use any kind of animation API in our application. If we want to use animation function like <code>trigger()</code> or <code>state()</code>, we need to import them also from <code>'@angular/platform-browser/animations'</code> instead of <code>'@angular/core'</code>.</p>

<h3 id="configure-component-animations">Configure Component Animations</h3>

<p>We want the <code>my-fader</code> component to <strong>fade-in</strong> or <strong>fade-out</strong> its text content. And we want to <em>animate</em> those fades effects.</p>

<p>To start animating, let’s first add animation metadata to our component.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="p">...,</span>
  <span class="na">template</span> <span class="p">:</span> <span class="err">``</span><span class="p">,</span>
  <span class="na">animations</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">...</span>
  <span class="p">]</span>
<span class="p">)]</span>
<span class="kr">class</span> <span class="nx">MyComponent</span><span class="p">()</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span></code></pre></div>

<p>Above we show that the <code>animations</code> metadata property is defined in the <code>@Component</code> decorator. Just like <code>template</code> metadata property!</p>

<p>Since our component has a <code>visibility</code> property whose state can change between <code>shown</code> and <code>hidden</code>, let’s configure animations to trigger and animate during each value change.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">animations</span><span class="err">:</span> <span class="p">[</span>
  <span class="nx">trigger</span><span class="p">(</span><span class="s1">'visibilityChanged'</span><span class="p">,</span> <span class="p">[</span>
  <span class="nx">state</span><span class="p">(</span><span class="s1">'shown'</span> <span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">1</span> <span class="p">})),</span> 
  <span class="nx">state</span><span class="p">(</span><span class="s1">'hidden'</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}))</span>
  <span class="p">])</span>
<span class="p">]</span></code></pre></div>

<p>Before we add more metadata, let’s talk about the syntax above. What does it mean… and why is this syntax used?</p>

<p>The techno-speak above is saying that when the <code>visibilityChanged</code> property changes and the value <code>== shown</code>, then the target element opacity changes to 1. And when the value changes to <code>== hidden</code>, the target element opacity should change to 0.</p>

<blockquote>
  <p>Note: The <code>[@visibilityChanged]</code> binding is on <code>&lt;div&gt;</code> child content element in the <code>&lt;my-fader&gt;</code> component. It is NOT on the <code>&lt;my-fader&gt;</code> element itself. In other words, the animation target in our example is actually the <code>&lt;div&gt;</code> element; not the component <strong>host</strong> element.</p>
</blockquote>

<p>Now, you might also wonder where <code>visibilityChanged</code> comes from? Because our component property is just called <code>visibility</code>. Hold your wild horses Mr. StageCoach, we’ll clarify that soon!” Let’s first talk about animation durations.</p>

<p>We want to animate these changes over a time duration instead of instantly hiding/showing the content. We need to configure a <em>transition</em> to specify animation durations. With Angular this is also suprisingly easy:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">animations</span><span class="err">:</span> <span class="p">[</span>
  <span class="nx">trigger</span><span class="p">(</span><span class="err">’</span><span class="nx">visibilityChanged</span><span class="s1">', [
    state('</span><span class="nx">shown</span><span class="s1">' , style({ opacity: 1 })), 
    state('</span><span class="nx">hidden</span><span class="s1">', style({ opacity: 0 })),
    transition('</span><span class="o">*</span> <span class="o">=&gt;</span> <span class="o">*</span><span class="s1">', animate('</span><span class="p">.</span><span class="mi">5</span><span class="nx">s</span><span class="err">'</span><span class="p">))</span>
  <span class="p">])</span>
<span class="p">]</span></code></pre></div>

<p>With the above <code>transition</code>, we added information to the animation configuration so each trigger value change will have a 500 msec transition.</p>

<p>So a <strong>fade-in</strong> (opacity 0 -&gt; 1, with a duration of 500 msec) will occur when the value changes from <code>hidden</code> to <code>shown</code>. And likewise the <strong>fade-out</strong> (opacity 1 -&gt; 0, with a duration of 500 msec) will occur when the value changes from <code>shown</code> to <code>hidden</code>. By the way, you could also have used <code>animate('500ms')</code> to indicate the millsecond duration explicitly.</p>

<p>And what does the <code>transition('* =&gt; *', ...)</code> mean? Think of <code>* =&gt; *</code> as a transition from one state to another state; where <code>*</code> is a wildcard to mean <strong>any</strong> state value. If we wanted the <em>fade-out</em> to be slower than the <em>fade-in</em>, here is how we would configure the animation metadata:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">animations</span><span class="err">:</span> <span class="p">[</span>
  <span class="nx">trigger</span><span class="p">(</span><span class="err">’</span><span class="nx">visibilityChanged</span><span class="s1">', [
    state('</span><span class="nx">shown</span><span class="s1">' , style({ opacity: 1 })),
    state('</span><span class="nx">hidden</span><span class="s1">', style({ opacity: 0 })),
    transition('</span><span class="nx">shown</span> <span class="o">=&gt;</span> <span class="nx">hidden</span><span class="s1">', animate('</span><span class="mi">600</span><span class="nx">ms</span><span class="s1">')),
    transition('</span><span class="nx">hidden</span> <span class="o">=&gt;</span> <span class="nx">shown</span><span class="s1">', animate('</span><span class="mi">300</span><span class="nx">ms</span><span class="err">'</span><span class="p">)),</span>
  <span class="p">])</span>
<span class="p">]</span></code></pre></div>

<p>See how easy this is? This notation is so easy to understand.</p>

<h3 id="the-essential-concept">The Essential Concept</h3>

<p>The essential take-away Animation concept is that <strong>Angular Animations</strong> are triggered on component <u>state changes</u>. And developers should consider <u>state changes</u> to be equivalent to <u>value changes in a property</u> of the component instance.</p>

<p><img src="https://media.giphy.com/media/NUC0kwRfsL0uk/giphy.gif" alt="super-cool" /></p>

<h3 id="linking-animation-to-the-component">Linking Animation to the Component</h3>

<p><br />
While we configured the Animation metadata,  I am sure you are wondering:</p>

<ul>
  <li>How is the animation property <code>visibilityChanged</code> actually connected to the component?</li>
  <li>How are the animations linked to the component’s properties?</li>
</ul>

<p>Since data-binding features are already supported between the <strong>component</strong> and its <strong>template</strong>,  Angular uses a <u>special</u> template animation syntax to support triggering the animation after data-binding changes. So in the component template, we can do this:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="err">[@</span><span class="na">visibilityChanged</span><span class="err">]="</span><span class="na">visibility</span><span class="err">"</span><span class="nt">&gt;</span>
  Can you see me? I should fade in or out...
<span class="nt">&lt;/div&gt;</span></code></pre></div>

<p>Above the <code>@visibilityChanged</code> is the special template animation property and it uses databinding  <code>[@visibilityChanged]=“visibility”</code> to bind the component’s visibility property to the animation  trigger property <code>visibilityChanged</code>.</p>

<p>Here is the entire component definition updated with Animation features:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnChanges</span><span class="p">,</span> <span class="nx">Input</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">trigger</span><span class="p">,</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">animate</span><span class="p">,</span> <span class="nx">transition</span><span class="p">,</span> <span class="nx">style</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@angular/platform-browser/animations'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span> <span class="p">:</span> <span class="s1">'my-fader'</span><span class="p">,</span>
  <span class="na">animations</span><span class="p">:</span> <span class="p">[</span>
  <span class="nx">trigger</span><span class="p">(</span><span class="s1">'visibilityChanged'</span><span class="p">,</span> <span class="p">[</span>
    <span class="nx">state</span><span class="p">(</span><span class="s1">'shown'</span> <span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">1</span> <span class="p">})),</span>
    <span class="nx">state</span><span class="p">(</span><span class="s1">'hidden'</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})),</span>
    <span class="nx">transition</span><span class="p">(</span><span class="s1">'* =&gt; *'</span><span class="p">,</span> <span class="nx">animate</span><span class="p">(</span><span class="s1">'.5s'</span><span class="p">))</span>
  <span class="p">])</span>
  <span class="p">],</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="p">[</span><span class="err">@</span><span class="nx">visibilityChanged</span><span class="p">]</span><span class="o">=</span><span class="s2">"visibility"</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content&gt; </span><span class="err"> 
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Can</span> <span class="nx">you</span> <span class="nx">see</span> <span class="nx">me</span><span class="p">?</span> <span class="nx">I</span> <span class="nx">should</span> <span class="nx">fade</span> <span class="k">in</span> <span class="nx">or</span> <span class="nx">out</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">FaderComponent</span> <span class="kr">implements</span> <span class="nx">OnChanges</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">isVisible</span> <span class="p">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="nx">visibility</span> <span class="o">=</span> <span class="s1">'shown'</span><span class="p">;</span>

  <span class="nx">ngOnChanges</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isVisible</span> <span class="p">?</span> <span class="s1">'shown'</span> <span class="p">:</span> <span class="s1">'hidden'</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<h3 id="reducing-complexity">Reducing Complexity</h3>

<p>What if - instead of the using the extra <code>visibility</code> property - you just wanted to use the <code>isVisible</code> property directly? This would obviate <code>ngOnChanges()</code> and reduce the code complexity to:</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
   <span class="na">animations</span><span class="p">:</span> <span class="p">[</span>
     <span class="nx">trigger</span><span class="p">(</span><span class="s1">'visibilityChanged'</span><span class="p">,</span> <span class="p">[</span>
       <span class="nx">state</span><span class="p">(</span><span class="s1">'shown'</span> <span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">1</span> <span class="p">})),</span>
       <span class="nx">state</span><span class="p">(</span><span class="s1">'hidden'</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span> <span class="p">})),</span>
       <span class="nx">transition</span><span class="p">(</span><span class="s1">'* =&gt; *'</span><span class="p">,</span> <span class="nx">animate</span><span class="p">(</span><span class="s1">'.5s'</span><span class="p">))</span>
     <span class="p">])</span>
   <span class="p">],</span>
   <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
   <span class="o">&lt;</span><span class="nx">div</span> <span class="p">[</span><span class="err">@</span><span class="nx">visibilityChanged</span><span class="p">]</span><span class="o">=</span><span class="s2">"isVisible"</span> <span class="o">&gt;</span>
        <span class="p">...</span>
   <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>   <span class="err">`</span>
 <span class="p">})</span>
 <span class="kr">export</span> <span class="kr">class</span> <span class="nx">FaderComponent</span> <span class="p">{</span>
   <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">isVisible</span> <span class="err">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
 <span class="p">}</span></code></pre></div>

<p>I love the tersity of this code. But this will not work without another <strong>important</strong> change to the animation metadata!</p>

<blockquote>
  <p>Remember that the <code>@visibilityChanged</code> animation trigger property has defined states for the values: <code>shown</code> or <code>hidden</code>.</p>
</blockquote>

<p>If you use the <code>myFader::isVisible</code> boolean property, then your animation state values must be changed to <code>true</code> and <code>false</code> since those are the possible values of the <code>isVisible</code> property.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnChanges</span><span class="p">,</span> <span class="nx">Input</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">trigger</span><span class="p">,</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">animate</span><span class="p">,</span> <span class="nx">transition</span><span class="p">,</span> <span class="nx">style</span> <span class="p">}</span> <span class="nx">form</span> <span class="s1">'@angular/platform-browser/animations'</span><span class="p">;</span>

<span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span> <span class="p">:</span> <span class="s1">'my-fader'</span><span class="p">,</span>
  <span class="na">animations</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">trigger</span><span class="p">(</span><span class="s1">'visibilityChanged'</span><span class="p">,</span> <span class="p">[</span>
      <span class="nx">state</span><span class="p">(</span><span class="s1">'true'</span> <span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">transform</span><span class="p">:</span> <span class="s1">'scale(1.0)'</span> <span class="p">})),</span>
      <span class="nx">state</span><span class="p">(</span><span class="s1">'false'</span><span class="p">,</span> <span class="nx">style</span><span class="p">({</span> <span class="na">opacity</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">transform</span><span class="p">:</span> <span class="s1">'scale(0.0)'</span>  <span class="p">})),</span>
      <span class="nx">transition</span><span class="p">(</span><span class="s1">'1 =&gt; 0'</span><span class="p">,</span> <span class="nx">animate</span><span class="p">(</span><span class="s1">'300ms'</span><span class="p">)),</span>
      <span class="nx">transition</span><span class="p">(</span><span class="s1">'0 =&gt; 1'</span><span class="p">,</span> <span class="nx">animate</span><span class="p">(</span><span class="s1">'900ms'</span><span class="p">))</span>
    <span class="p">])</span>
  <span class="p">],</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="p">[</span><span class="err">@</span><span class="nx">visibilityChanged</span><span class="p">]</span><span class="o">=</span><span class="s2">"isVisible"</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">ng</span><span class="o">-</span><span class="nx">content</span><span class="o">&gt;&lt;</span><span class="sr">/ng-content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Can</span> <span class="nx">you</span> <span class="nx">see</span> <span class="nx">me</span><span class="p">?</span> <span class="nx">I</span> <span class="nx">should</span> <span class="nx">fade</span> <span class="k">in</span> <span class="nx">or</span> <span class="nx">out</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">FaderComponent</span> <span class="kr">implements</span> <span class="nx">OnChanges</span> <span class="p">{</span>
  <span class="err">@</span><span class="nx">Input</span><span class="p">()</span> <span class="nx">isVisible</span> <span class="p">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p><br /></p>

<iframe src="http://embed.plnkr.co/74lprkmzUGjT7UWbiyUr/?deferRun" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<blockquote>
  <p>Extra Bonus: The demo has some extra features. The <em>host</em> <code>my-fader</code> element now has a purple background; when you hide the <code>my-fader</code> content children you will see the host background. This change was added so you can visually see the differences between the <em>host</em> and the <em>target</em> animation elements.</p>
</blockquote>

<h3 id="our-animation-workflow">Our Animation Workflow</h3>

<p>Above we have an improved the component definition; enhanced with animation features. Here is a workflow of the [animation] process:</p>

<ol>
  <li>the input value for <code>isVisible</code> changes,</li>
  <li>the template databinding updates the <code>@visibilityChanged</code> property,</li>
  <li>the animation trigger is invoked,</li>
  <li>the <code>@visibilityChanged</code> value is used to identify the <strong>state</strong> animations and transitions, and</li>
  <li>the target element opacity (and other properties) change-animates for xxx msecs</li>
</ol>

<h3 id="animation-philosophy">Animation Philosophy</h3>

<p>One of the design goals for Angular Animations is to make it <strong>easy</strong> for developers to configure and use animations. The API and syntax is designed to be:</p>

<ul>
  <li>intuitive</li>
  <li>declarative and</li>
  <li>immediately associated with the component using metadata</li>
</ul>

<p>The best part of Angular Animation design is that the <strong>component-&gt;template-&gt;animation</strong> binding solution <u>decouples</u> the animation from the component internals and uses the template as the binding bridge.</p>

<p>The developer decides which component properties should bind to which animation triggers, then simply uses the possible component property values to set the animation <em>state</em> values accordingly.</p>

<blockquote>
  <p>In most cases, you will never need to write JavaScript animation logic.</p>
</blockquote>

<p>All the mechanics of preparing and managing the animations are hidden from the developer. This ‘separation of concerns’ provides HUGE benefits to allow developers to easily use Angular Animations with custom architectures &amp; custom implementations.</p>

<h3 id="animations-with-components-hierarchies">Animations with Components Hierarchies</h3>

<p>Components should never be concerned with the details regarding animation of child components. Parent components can monitor and alter the public <strong>state</strong> of child components, but should never attempt to modify the internals of those components.</p>

<p>In our examples (above), parent components can simply change the state of the child <code>my-fader</code> instances and then magically the contents of the <code>my-fader</code> instance will fadeIn or fadeOut.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="err">@</span><span class="nx">Component</span><span class="p">({</span>
  <span class="na">selector</span> <span class="p">:</span> <span class="s1">'my-app'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="err">`</span>

  <span class="o">&lt;</span><span class="nx">my</span><span class="o">-</span><span class="nx">fader</span> <span class="p">[</span><span class="nx">isVisible</span><span class="p">]</span><span class="o">=</span><span class="s2">"showFader"</span><span class="o">&gt;</span>
    <span class="nx">Am</span> <span class="nx">I</span> <span class="nx">visible</span> <span class="p">?</span>
  <span class="o">&lt;</span><span class="sr">/my-fader</span><span class="err">&gt;
</span>
  <span class="o">&lt;</span><span class="nx">button</span> <span class="p">(</span><span class="nx">click</span><span class="p">)</span><span class="o">=</span><span class="s2">"showFader = !showFader"</span><span class="o">&gt;</span> <span class="nx">Toggle</span> <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="err">`</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">MyAppComponent</span> <span class="p">{</span>  
  <span class="nl">showFader</span> <span class="p">:</span> <span class="kr">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<iframe src="http://embed.plnkr.co/NbWGjs/?deferRun" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>

<h3 id="summary">Summary</h3>

<p>The Angular Animation engine and compiler does all the hard work preparing, managing, and running the animations. Developers use the <code>@Component</code> metadata to declaratively define the component styles, templates, and [now] animations. And it is the component <strong>template</strong> that serves as the <em>bridge</em> to link the component instance state to the animation trigger property.</p>

<p><br /></p>

<h3 id="thanks">Thanks</h3>

<p>Kudos to <a href="https://twitter.com/yearofmoo">Matias Niemelä</a> for the amazing Animation engine in Angular!</p>

<p><img src="https://cloud.githubusercontent.com/assets/210413/18608523/49b8707c-7cb1-11e6-8d2c-ab43db07ca78.jpg" alt="matiasvikinghair" /></p>

<p>These core animation features [discussed above] are available in the Angular 2.0.0 release. And never fear, Matias and his team are working hard on more amazing, intuitive Animation features. So stay tuned for even MORE cool features and blogs coming soon!</p>


          




        
          <section class="thtrm-ad thtrm-ad--plain thtrm-ad--border thtrm-ad-transparent thtrm-section thtrm-section--is-promo is-sticky">
<a href="https://course.machinelabs.ai" title="Order now!" id="event-cta" ><img src="/images/ml-course-ad.png"></a>
</section>


        </div>

        <div class="thtrm-subscriber">
  <h3>Get updates on new articles and trainings.</h3>
  <p>Join over 2400 other developers who get our content first.</p>
  <form action="//thoughtram.us8.list-manage.com/subscribe/post?u=dfbb1507fbced5a20d9dc5698&amp;id=731f22cdca" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate>
    <label for="mce-EMAIL"></label>
    <input type="email" value="" name="EMAIL" placeholder="Your email address..." required>
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_dfbb1507fbced5a20d9dc5698_731f22cdca" tabindex="-1" value=""></div>
    <input type="submit" value="Subscribe" name="subscribe" class="thtrm-cta thtrm-cta--small">
  </form>
  <p class="thtrm-form__info-text">Information on the performance measurement included in the consent, the use of the mail service provider MailChimp and on the logging of the registration and your rights of revocation can be found in our <a href="https://thoughtram.io/imprint.html" title="Privacy Statement">data protection declaration</a>.</p>
</div>



        <div class="thtrm-social-links">
            <!-- Sharingbutton Facebook -->
            <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3A%2F%2Fblog.thoughtram.io/angular/2016/09/16/angular-2-animation-important-concepts.html" target="_blank" aria-label="Share on Facebook">
              <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"/>
                    </g>
                </svg>
                </div>Share on Facebook</div>
            </a>

            <!-- Sharingbutton Twitter -->
            <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Angular%20Animations%20-%20Foundation%20Concepts&amp;url=http://blog.thoughtram.io/angular/2016/09/16/angular-2-animation-important-concepts.html" target="_blank" aria-label="Share on Twitter">
              <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"/>
                    </g>
                </svg>
                </div>Share on Twitter</div>
            </a>

            <!-- Sharingbutton Google+ -->
            <a class="resp-sharing-button__link" href="https://plus.google.com/share?url=http%3A%2F%2Fblog.thoughtram.io/angular/2016/09/16/angular-2-animation-important-concepts.html" target="_blank" aria-label="Share on Google+">
              <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"/>
                        <polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5   "/>
                    </g>
                </svg>
                </div>Share on Google+</div>
            </a>
        </div>

        <h3 class="thtrm-section-headline thtrm-section-headline--with-margin">Author</h3>
        <div class="thtrm-article-author">
          <span class="thtrm-article-author-avatar"><img src="/images/thomas_high_res.png" alt="Picture of Thomas Burleson"></span>
          <div class="thtrm-article-author-matter">
            <h4 class="thtrm-article-author-name">Thomas Burleson</h4>
            <p class="thtrm-article-author-text">Thomas was a late bloomer; programming at 24. He is a autodidact technologist with a passion for Angular, UX, and great software. Thomas is the Team Lead for Angular Material. He loves teaching, mentoring, and working with Angular developers. He also has the irritating habits of daily power-naps and starts a sentence and not finishing…. as his mind races ahead!</p>
            <p>
              <a class="thtrm-article-author-cta thtrm-article-author-cta-twitter" href="http://twitter.com/thomasburleson" title="Thomas Burleson on Twitter">Twitter</a>
              <a class="thtrm-article-author-cta" href="http://github.com/thomasburleson" title="Thomas Burleson on GitHub">GitHub</a>
            </p>
          </div>
        </div>
      </div>

      <div class="thtrm-constraint">

        
        <h4 class="thtrm-section-headline thtrm-section-headline--with-big-margin thtrm-section-headline--centered">Related Posts</h4>
        <ul class="thtrm-three-column-list thtrm-three-column-list--with-padding">
        
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2016/06/08/component-relative-paths-in-angular-2.html" title="Component-Relative Paths in Angular">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/component-relative-paths-in-angular-2.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Component-Relative Paths in Angular</h3>
                <p>Component-relative enable developers to more easily create maintainable, reusable, portable components in Angular. Here's how!</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2018/03/05/advanced-caching-with-rxjs.html" title="Advanced caching with RxJS">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/advanced_caching.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Advanced caching with RxJS</h3>
                <p>When building web applications, performance should always be a top priority. One very efficient way to optimize the performance of...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2017/11/27/custom-overlays-with-angulars-cdk-part-two.html" title="Custom Overlays with Angular's CDK - Part 2">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/custom_overlays_2.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Custom Overlays with Angular's CDK - Part 2</h3>
                <p>In this follow-up post we demonstrate how to use Angular's CDK to build a custom overlay that looks and feels...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2017/11/20/custom-overlays-with-angulars-cdk.html" title="Custom Overlays with Angular's CDK">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/custom_overlays.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Custom Overlays with Angular's CDK</h3>
                <p>The Angular Material CDK provides us with tools to build awesome and high-quality Angular components without adopting the Material Design...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2017/11/13/easy-dialogs-with-angular-material.html" title="Easy Dialogs with Angular Material">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/easy-dialogs-with-angular-material.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Easy Dialogs with Angular Material</h3>
                <p>Building modals and dialogs isn't easy - if we do it ourselves. Angular Material comes with a powerful dialog service...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2017/07/26/a-web-animations-deep-dive-with-angular.html" title="A web animations deep dive with Angular">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/angular-animations.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>A web animations deep dive with Angular</h3>
                <p>Angular comes with a built-in animation system that lets us create powerful animations based on the Web Animations API. In...</p>
              </div>
            </a>
          </li>
        
        
        </ul>
        

      

      </div>
    </main>
    <footer role="contentinfo" class="thtrm-footer thtrm-footer--slim">
  <div class="thtrm-footer-text">
    <img class="thtrm-footer-logo" alt="thoughtram brain" src="/images/thoughtram-brain-white.png">
    <p>This website was created in collaboration with <a href="http://twitter.com/timche_" title="Tim Cheung on Twitter"><strong>Tim Cheung</strong></a> and <a href="http://twitter.com/tim_hartmann_" title="Tim Hartmann on Twitter"><strong>Tim Hartmann</strong></a>.</p>
    <p ><a href="https://thoughtram.io/code-of-conduct.html" title="Code of Conduct">Code of Conduct</a> &bullet; <a href="https://thoughtram.io/imprint.html" title="Legal Notice">Legal notice</a></p>
    <p class="thtrm-footer-bottom">&copy; 2014-2018 thoughtram GmbH</p>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-51360648-2', 'auto');
ga('set', 'anonymizeIp', true);
ga('send', 'pageview');

var form = document.getElementById('search-form');
var eventCta = document.getElementById('event-cta');

if (eventCta) {

  eventCta.addEventListener('click', function (event) {
    event.preventDefault();

    setTimeout(clickLink, 1000);

    function clickLink() {
      window.location.replace(eventCta.getAttribute('href'));
    }

    ga('send', 'event', {
      eventCategory: 'Event Link',
      eventAction: 'click',
      eventLabel: eventCta.getAttribute('title'),
      hitCallback: clickLink
    });
  });
}

if (form) {

  var searchTerm = document.getElementById('search-term');

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    var formSubmitted = false;

    setTimeout(submitForm, 1000);

    function submitForm() {
      if (!formSubmitted) {
        formSubmitted = true;
        form.submit();
      }
    }

    ga('send', 'event', {
      eventCategory: 'Search Form',
      eventAction: 'submit',
      eventLabel: searchTerm.value,
      hitCallback: submitForm
    });
  });
}
</script>



    <script src="/scripts/linkjuice/dist/linkjuice.js"></script>
    <script src="/scripts/main.js"></script>
  </body>
</html>
