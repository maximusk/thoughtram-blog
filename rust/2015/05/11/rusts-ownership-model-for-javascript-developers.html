




<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="In this post we explore Rust's concept of ownership that enables the language to achieve 100 % memory safety without garbage collection.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="thoughtram">
    <title>Rust's Ownership model for JavaScript developers by thoughtram</title>
    <meta name="google-site-verification" content="o9eGPEgIETEqYGombq7NiQuBIB_qa6gz1yAL7PxKyK0">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#4D8799">
    <link rel="icon" sizes="192x192" href="/images/touch/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="thoughtram">
    <link rel="apple-touch-icon" href="/images/touch/apple-touch-icon.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#4D8799">

    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Rust's Ownership model for JavaScript developers">
    <meta property="og:description" content="In this post we explore Rust's concept of ownership that enables the language to achieve 100 % memory safety without garbage collection.">
    <meta property="og:url" content="http://blog.thoughtram.io/rust/2015/05/11/rusts-ownership-model-for-javascript-developers.html">
    <meta property="og:site_name" content="Articles by thoughtram">
    <meta property="og:image" content="http://blog.thoughtram.io">
    <meta property="og:publisher" content="http://www.facebook.com/thoughtram">

    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="Rust's Ownership model for JavaScript developers">
    <meta property="twitter:site" content="thoughtram Blog">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css" type="text/css">
  </head>
  <body class="sub-site">
    <!-- Add your site or app content here -->

    <!--[if lt IE 10]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <header class="thtrm-header" role="banner">
      <div class="thtrm-header-bar">
        <div class="thtrm-constraint">
          <a href="http://thoughtram.io" class="thtrm-header-logo-link" title="thoughtram.io Start Page"><h1 class="thtrm-header-logo">thoughtram</h1></a>
          <div class="thtrm-header-menu-wrapper">
            <span role="button" tabindex="0" class="thtrm-header-menu-label">Menu</span>
            <ul class="thtrm-header-menu">
              <li><a title="Training" class="thtrm-header-menu-item" href="http://thoughtram.io/training.html">Training</a></li>
              <li><a title="Code Review" class="thtrm-header-menu-item" href="http://thoughtram.io/code-review.html">Code Review</a></li>
              <li><a title="Casts" class="thtrm-header-menu-item " href="http://casts.thoughtram.io">Casts</a></li>
              <li><a title="Blog" class="thtrm-header-menu-item" href="/">Blog</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <main role="main" class="thtrm-main">
    <div class="thtrm-banner" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%), url('/images/banner/fallback.jpeg');">
        <hgroup class="thtrm-banner-container">
          <div class="thtrm-constraint thtrm-constraint--slim">
            <h2 class="thtrm-banner-text">Rust's Ownership model for JavaScript developers</h2>
            <span>by <a href="http://twitter.com/" title="Christoph Burgdorf on Twitter">Christoph Burgdorf</a> on May 11, 2015, last updated on Nov 14, 2016<br>20 minute read</span>

          </div>
        </hgroup>
      </div>
      <div class="thtrm-constraint thtrm-constraint--slim">

        <section class="thtrm-ad thtrm-section thtrm-section--is-promo is-sticky">
  <img width="100" src="/images/angular2-shield-inverse.svg">
  <h3 class="thtrm-section-headline">Angular Master Class in Las Palmas</h3>
  <p class="thtrm-section-text">Join our upcoming public training!</p>
  <a href="https://www.codecamps.com/aiff4/" title="Angular Master Class in Las Palmas" id="event-cta" class="thtrm-layout-divider-cta">Get a ticket <strong>&rarr;</strong></a>
</section>

        <div class="thtrm-article">

          <p>It’s been roughly one year ago since we organized Hannover’s first <a href="http://blog.thoughtram.io/announcements/rust/meetups/2014/06/24/organizing-hannovers-first-rust-meetup.html">Rust meetup</a>. Time has passed on and <a href="http://nickel.rs/">nickel</a> has grown into a really nice web application framework with a very active community and 31 individual contributors as of the time of writing this.</p>

<p>We also created <a href="https://github.com/thoughtram/clog">clog</a> a changelog generator that started as a straight port of <a href="https://github.com/ajoslin/conventional-changelog">conventional-changelog</a> but has since moved on to follow it’s own ideas and currently powers projects such as nickel and <a href="https://github.com/kbknapp/clap-rs">clap</a>.</p>

<p>I like to point out that both projects wouldn’t have been where they are today without the help of lots of helping hands from a bunch of smart people.</p>

<p>While we wrote a lot about Angular and Git in this blog already, we didn’t actually took the time to explore Rust.</p>

<p>Let’s change that and start with baby steps. Many readers of this blog are familiar with JavaScript so let’s explore a core concept of Rust from the perspective of a JavaScript developer.</p>

<div class="thtrm-toc is-sticky">
  <h3 class="no_toc" id="table-of-contents">TABLE OF CONTENTS</h3>
<ul id="markdown-toc">
  <li><a href="#memory-management" id="markdown-toc-memory-management">Memory management</a></li>
  <li><a href="#the-concept-of-ownership-in-rust" id="markdown-toc-the-concept-of-ownership-in-rust">The concept of ownership in Rust</a></li>
</ul>

</div>

<h2 id="memory-management">Memory management</h2>

<p>Most languages (JavaScript included) use a garbage collector to ensure memory safety.</p>

<p>Well then, what’s the job of a garbage collector anyway? Basically it frees up memory that isn’t used anymore, that is, memory that nothing in the program points to anymore. Traditionally languages that are not memory safe such as C and C++ delegate that work to the developer. As we all know humans aren’t free from failure and so here are some examples of problems that may arise with manual memory management</p>

<ul>
  <li>access to memory that has already been freed</li>
  <li>trying to free memory that has already been freed (double free)</li>
  <li>not freeing memory at all that rather should have been freed (memory leak)</li>
</ul>

<h2 id="the-concept-of-ownership-in-rust">The concept of ownership in Rust</h2>

<p>Rust doesn’t use a garbage collector while still being 100 % memory safe. So how does that work and how does it affect the way we write our code?</p>

<p>Let’s explore it by comparing some simple JavaScript code (written in ES6) with it’s Rust counterpart.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Product</span> <span class="p">{}</span>

<span class="kr">class</span> <span class="nx">Config</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">debugMode</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">debugMode</span> <span class="o">=</span> <span class="nx">debugMode</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">ProductService</span> <span class="p">{</span>
  <span class="nx">constructor</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">getProduct</span> <span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_config</span><span class="p">.</span><span class="nx">debugMode</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'retrieving product for id'</span> <span class="o">+</span> <span class="nx">id</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Product</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">BasketService</span> <span class="p">{</span>
  <span class="nx">constructor</span> <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_config</span> <span class="o">=</span> <span class="nx">config</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">addProduct</span> <span class="p">(</span><span class="nx">product</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_config</span><span class="p">.</span><span class="nx">debugMode</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'adding product %O'</span><span class="p">,</span> <span class="nx">product</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Config</span> <span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">productService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ProductService</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">basketService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BasketService</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">product</span> <span class="o">=</span> <span class="nx">productService</span><span class="p">.</span><span class="nx">getProduct</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">basketService</span><span class="p">.</span><span class="nx">addProduct</span><span class="p">(</span><span class="nx">product</span><span class="p">);</span></code></pre></div>

<p>It’s a simple e-commerce example with four different classes working hand in hand. We have a <code>Product</code> class without any functionality because it’s sole purpose is to represent a product in this demo context. Then there’s a <code>Config</code> class which may contain a bunch of configurations such as API endpoints or simply a <code>debugMode</code> flag as in our simple example. And last but not least do we have a <code>ProductService</code> to retrieve products from and a <code>BasketService</code> to put products into a shopping basket.</p>

<p>Let’s fokus on what follows after the definition of those classes.</p>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Config</span> <span class="p">(</span><span class="kc">true</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">productService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ProductService</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">basketService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BasketService</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">product</span> <span class="o">=</span> <span class="nx">productService</span><span class="p">.</span><span class="nx">getProduct</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">basketService</span><span class="p">.</span><span class="nx">addProduct</span><span class="p">(</span><span class="nx">product</span><span class="p">);</span></code></pre></div>

<p>We create an instance of a <code>Config</code> and pass it to both services. The last two lines show how the two services are used. Easy enough, right?</p>

<p>Let’s write the same thing in Rust but instead of directly jumping to the final version let me take you on a journey to illustrate the process of how to get there.</p>

<p>We leave out the <code>getProduct</code> and <code>addProduct</code> methods for our first implementation as they are just a distraction at this point.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">ProductService</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Config</span>
<span class="p">}</span>
<span class="k">struct</span> <span class="n">BasketService</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Config</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">ProductService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">BasketService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>The first thing to notice here is that Rust has no classes but instead has structs. It’s out of the scope of this article to discuss the differences though. The second thing to notice is that methods aren’t written in the struct definition but are attached to a struct through an <code>impl</code> block instead.</p>

<p>Also does Rust not know any <code>constructor</code> concept. Instances of structs can simply be made by writing out the structs name followed by curly braces and a body that initializes all of the structs fields. However it’s a common pattern to add a “static” <code>new</code> method to the struct that wraps the initialization code. This <code>new</code> method is quite compareable to the <code>constructor</code> in our ES6 classes.</p>

<p>To get things going we need to put the code that creates a config and both services in the <code>main</code> function.</p>

<p>Ok, so we have our first version to try. That wasn’t all that hard, was it? But no, what’s that? When we try to run the code the compiler tells us that something isn’t quite right.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span> <span class="mi">37</span><span class="p">:</span><span class="mi">51</span> <span class="n">error</span><span class="p">:</span> <span class="k">use</span> <span class="n">of</span> <span class="n">moved</span> <span class="n">value</span><span class="p">:</span> <span class="err">`</span><span class="n">config</span><span class="err">`</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">37</span>     <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
                                                           <span class="o">^~~~~~</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span> <span class="mi">36</span><span class="p">:</span><span class="mi">53</span> <span class="n">note</span><span class="p">:</span> <span class="err">`</span><span class="n">config</span><span class="err">`</span> <span class="n">moved</span> <span class="n">here</span> <span class="n">because</span> <span class="n">it</span> <span class="n">has</span> <span class="k">type</span> <span class="err">`</span><span class="n">Config</span><span class="err">`</span><span class="p">,</span> <span class="n">which</span> <span class="n">is</span> <span class="n">non</span><span class="o">-</span><span class="n">copyable</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">36</span>     <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span></code></pre></div>

<p>The compiler disallows usage of <code>config</code> in line 37 because it moved in line 36. Uhm..what’s a move? Let’s go back to how this all started. We were talking about memory management and how Rust assures 100 % memory safety without the usage of a garbage collector.</p>

<p>When we look back at the JavaScript version we can see that there are three places in our program that hold a reference to the <code>config</code>. Each service holds a reference as well as the calling code that creates <code>config</code> in the first place.</p>

<p>Since JavaScript is garbage collected we don’t put much thought into that. A garbage collector will just regulary run checks and if it discovers that there is no reference anymore that points to the memory that was allocated for the <code>config</code>, it will free it up.</p>

<p>Rust doesn’t have a garbage collector but it doesn’t force you to manage the memory manually either. Instead it creates new rules to enforce memory safety without garbage collection, namely “Ownership”.</p>

<p>Being the owner of an object means that you (and only you) own the right to destroy it.</p>

<p>Let’s see what that really means in the context of our program. The comments explain what happens line by line.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="c">// at this point config is owned by the `main` function</span>
    <span class="c">// which also means the memory would be freed</span>
    <span class="c">// at the end of the main function</span>


    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
    <span class="c">// at this point config is owned by the `new` method.</span>
    <span class="c">// So the main method is no longer the owner of `config`</span>
    <span class="c">// and further use of `config` is prohibited</span>

    <span class="c">// config can't be used here because `main` doesn't own</span>
    <span class="c">// it any more</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>You may be wondering why we can’t just continue to use <code>config</code> without being the owner. The point is that since the <code>new</code> method is now the new owner it may just decide to free up the memory. Keep in mind that the owner has the right to destroy the thing that it owns (either explicitly or implicity when it goes out of scope).</p>

<p>If we were allowed to use <code>config</code> in the last line the memory may already be freed and hell breaks loose. The rust compiler prevents us from a potential runtime crash here.</p>

<p><strong>The concept of borrowing</strong></p>

<p>The good news is that we don’t <strong>have</strong> to transfer ownership each time we pass something to another method. We can just lend out a reference instead.</p>

<p>Before we refactor our code to have the services borrow the config, we will temporarily simplify the code one last time to make it obvious why the move happens.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">ProductService</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">BasketService</span><span class="p">;</span>

<span class="k">impl</span> <span class="n">ProductService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">BasketService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>We removed the config from both services so that the <code>new</code> methods still takes the <code>config</code> as parameter but doesn’t use it at all. We are still running into the same error.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span> <span class="mi">27</span><span class="p">:</span><span class="mi">51</span> <span class="n">error</span><span class="p">:</span> <span class="k">use</span> <span class="n">of</span> <span class="n">moved</span> <span class="n">value</span><span class="p">:</span> <span class="err">`</span><span class="n">config</span><span class="err">`</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">27</span>     <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span>
                                                           <span class="o">^~~~~~</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span> <span class="mi">26</span><span class="p">:</span><span class="mi">53</span> <span class="n">note</span><span class="p">:</span> <span class="err">`</span><span class="n">config</span><span class="err">`</span> <span class="n">moved</span> <span class="n">here</span> <span class="n">because</span> <span class="n">it</span> <span class="n">has</span> <span class="k">type</span> <span class="err">`</span><span class="n">Config</span><span class="err">`</span><span class="p">,</span> <span class="n">which</span> <span class="n">is</span> <span class="n">non</span><span class="o">-</span><span class="n">copyable</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">26</span>     <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="n">config</span><span class="p">);</span></code></pre></div>

<p>The reason for that lies in the method signature of <code>new</code>.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span></code></pre></div>

<p>This method signature says: “I’m a method that takes ownership of a <code>Config</code> and returns a <code>ProductService</code>”.</p>

<p>But we can change it to borrow a reference instead.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">ProductService</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">BasketService</span><span class="p">;</span>

<span class="k">impl</span> <span class="n">ProductService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">BasketService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>Whew, this compiles! The <code>&amp;Config</code> as the parameter type means that it now borrows a reference instead of taking ownership. The <code>main</code> method continues to be the owner with this change.</p>

<p>But there’s another thing that we changed. Because the <code>new</code> methods now expect a reference instead of the actual type, we need to change the call site, too.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span></code></pre></div>

<p>The leading <code>&amp;</code> before <code>config</code> means that we pass the memory address to the config instead of passing the actual data. And that brings us closer to our JavaScript version which also just passes a reference to <code>config</code> under the cover.</p>

<p>Let’s change our code back to store the config in the services so that the service methods can have access to it.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">ProductService</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span>
<span class="p">}</span>
<span class="k">struct</span> <span class="n">BasketService</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">ProductService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span> <span class="n">BasketService</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>Unfortunately this gives us another error.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">8</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span> <span class="mi">8</span><span class="p">:</span><span class="mi">20</span> <span class="n">error</span><span class="p">:</span> <span class="n">missing</span> <span class="n">lifetime</span> <span class="n">specifier</span> <span class="p">[</span><span class="n">E0106</span><span class="p">]</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">8</span>     <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span>
                          <span class="o">^~~~~~~</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">13</span><span class="p">:</span> <span class="mi">11</span><span class="p">:</span><span class="mi">20</span> <span class="n">error</span><span class="p">:</span> <span class="n">missing</span> <span class="n">lifetime</span> <span class="n">specifier</span> <span class="p">[</span><span class="n">E0106</span><span class="p">]</span>
<span class="n">src</span><span class="err">/</span><span class="n">main</span><span class="py">.rs</span><span class="p">:</span><span class="mi">11</span>     <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span></code></pre></div>

<p>Rust’s memory management relies on a concept of lifetimes to track references. Most of the time you won’t even notice it because Rust lets us omit most lifetime annotations. But there are cases where Rust needs lifetime annotations such as when defining structs that hold references.</p>

<p>Since we changed our services to store a reference to a <code>Config</code> instead of the <code>Config</code> itself rusts expect us to annotate our services with lifetime annotations.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">ProductService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="err">'</span><span class="n">a</span> <span class="n">Config</span>
<span class="p">}</span>
<span class="k">struct</span> <span class="n">BasketService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="err">'</span><span class="n">a</span> <span class="n">Config</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="n">ProductService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="n">BasketService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>Whew, that’s a lot of new syntax that we haven’t seen yet.</p>

<p>Basically what the <code>'a</code> lifetime annotation says is that the <code>ProductService</code> can’t live longer than the reference to the <code>Config</code> that it contains. Rust doesn’t infer that constrain for structs by itself so it needs us to bring clarity. The same helds true for the <code>BasketService</code> as it also keeps a reference to the <code>Config</code>.</p>

<p>The <code>'a</code> is really only a name that we get to choose, we could have picked <code>'config</code> but short single letter names are mostly used among the Rust community.</p>

<p>We need to use the life time annotation in the <code>impl</code> blocks as well as those are written for the <code>ProductService</code> and <code>BasketService</code> which introduce those lifetimes. Please note that the <code>'a</code> of the <code>ProductService</code> is independend of the <code>'a</code> of the <code>BasketService</code> we could have picked different names for both.</p>

<p>A deep dive into the topic of lifetimes is out of scope for this article but we’ll make sure to cover them in more detail with follow up posts.</p>

<p>Now that we got things working with the minimal code needed let’s jump to the final version which introduces the <code>get_product</code> and <code>add_product</code> methods to the services.</p>

<div class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">struct</span> <span class="n">Config</span> <span class="p">{</span>
    <span class="n">debug_mode</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">}</span>

<span class="cp">#[derive(Debug)]</span>
<span class="k">struct</span> <span class="n">Product</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ProductService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="err">'</span><span class="n">a</span> <span class="n">Config</span>
<span class="p">}</span>
<span class="k">struct</span> <span class="n">BasketService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="err">'</span><span class="n">a</span> <span class="n">Config</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="n">ProductService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">ProductService</span> <span class="p">{</span>
        <span class="n">ProductService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">get_product</span> <span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">,</span> <span class="n">id</span><span class="p">:</span> <span class="nb">i32</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">Product</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">self</span><span class="py">.config.debug_mode</span> <span class="p">{</span>
            <span class="nd">println!</span><span class="p">(</span><span class="s">"retrieving product for id: {:?}"</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">Product</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">impl</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="n">BasketService</span><span class="o">&lt;</span><span class="err">'</span><span class="n">a</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">fn</span> <span class="nf">new</span> <span class="p">(</span><span class="n">config</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">Config</span><span class="p">)</span> <span class="k">-&gt;</span> <span class="n">BasketService</span> <span class="p">{</span>
        <span class="n">BasketService</span> <span class="p">{</span>
            <span class="n">config</span><span class="p">:</span> <span class="n">config</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fn</span> <span class="nf">add_product</span> <span class="p">(</span><span class="o">&amp;</span><span class="k">self</span><span class="p">,</span> <span class="n">item</span><span class="p">:</span> <span class="n">Product</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">self</span><span class="py">.config.debug_mode</span> <span class="p">{</span>
            <span class="nd">println!</span><span class="p">(</span><span class="s">"adding product {:?}"</span><span class="p">,</span> <span class="n">item</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">let</span> <span class="n">config</span> <span class="o">=</span> <span class="n">Config</span> <span class="p">{</span> <span class="n">debug_mode</span><span class="p">:</span> <span class="k">true</span> <span class="p">};</span>
    <span class="k">let</span> <span class="n">product_service</span> <span class="o">=</span> <span class="nn">ProductService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>
    <span class="k">let</span> <span class="n">basket_service</span> <span class="o">=</span> <span class="nn">BasketService</span><span class="p">::</span><span class="nf">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">);</span>

    <span class="k">let</span> <span class="n">product</span> <span class="o">=</span> <span class="n">product_service</span><span class="nf">.get_product</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">basket_service</span><span class="nf">.add_product</span><span class="p">(</span><span class="n">product</span><span class="p">);</span>
<span class="p">}</span></code></pre></div>

<p>The rest of the code shouldn’t be too scary with the <code>#[derive(Debug)]</code> annotation being the only exception. For now let’s just accept that those are needed in order to print out the product with the <code>println!</code> macro.</p>

<p>The code is a bit more verbose than the JavaScript version which mostly boils down to the fact that JavaScript isn’t strongly typed. I still find the Rust code quite expressive and terse if we consider the benefits of safety, memory usage and performance.</p>


          




        
          <section class="thtrm-ad thtrm-ad--plain thtrm-ad--border thtrm-ad-transparent thtrm-section thtrm-section--is-promo is-sticky">
<a href="https://course.machinelabs.ai" title="Order now!" id="event-cta" ><img src="/images/ml-course-ad.png"></a>
</section>


        </div>

        <div class="thtrm-subscriber">
  <h3>Get updates on new articles and trainings.</h3>
  <p>Join over 2400 other developers who get our content first.</p>
  <form action="//thoughtram.us8.list-manage.com/subscribe/post?u=dfbb1507fbced5a20d9dc5698&amp;id=731f22cdca" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate>
    <label for="mce-EMAIL"></label>
    <input type="email" value="" name="EMAIL" placeholder="Your email address..." required>
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_dfbb1507fbced5a20d9dc5698_731f22cdca" tabindex="-1" value=""></div>
    <input type="submit" value="Subscribe" name="subscribe" class="thtrm-cta thtrm-cta--small">
  </form>
  <p class="thtrm-form__info-text">Information on the performance measurement included in the consent, the use of the mail service provider MailChimp and on the logging of the registration and your rights of revocation can be found in our <a href="https://thoughtram.io/imprint.html" title="Privacy Statement">data protection declaration</a>.</p>
</div>



        <div class="thtrm-social-links">
            <!-- Sharingbutton Facebook -->
            <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=http%3A%2F%2Fblog.thoughtram.io/rust/2015/05/11/rusts-ownership-model-for-javascript-developers.html" target="_blank" aria-label="Share on Facebook">
              <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"/>
                    </g>
                </svg>
                </div>Share on Facebook</div>
            </a>

            <!-- Sharingbutton Twitter -->
            <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Rust's%20Ownership%20model%20for%20JavaScript%20developers&amp;url=http://blog.thoughtram.io/rust/2015/05/11/rusts-ownership-model-for-javascript-developers.html" target="_blank" aria-label="Share on Twitter">
              <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"/>
                    </g>
                </svg>
                </div>Share on Twitter</div>
            </a>

            <!-- Sharingbutton Google+ -->
            <a class="resp-sharing-button__link" href="https://plus.google.com/share?url=http%3A%2F%2Fblog.thoughtram.io/rust/2015/05/11/rusts-ownership-model-for-javascript-developers.html" target="_blank" aria-label="Share on Google+">
              <div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--large"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
                <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                    <g>
                        <path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"/>
                        <polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5  23.5,11.5   "/>
                    </g>
                </svg>
                </div>Share on Google+</div>
            </a>
        </div>

        <h3 class="thtrm-section-headline thtrm-section-headline--with-margin">Author</h3>
        <div class="thtrm-article-author">
          <span class="thtrm-article-author-avatar"><img src="/images/author-christoph.jpg" alt="Picture of Christoph Burgdorf"></span>
          <div class="thtrm-article-author-matter">
            <h4 class="thtrm-article-author-name">Christoph Burgdorf</h4>
            <p class="thtrm-article-author-text">Christoph began programming at the age of 10. He is the creator of the Nickel.rs web framework and a contributor of the AngularJS project. Christoph is also part of the Angular Docs Authoring team.</p>
            <p>
              <a class="thtrm-article-author-cta thtrm-article-author-cta-twitter" href="http://twitter.com/cburgdorf" title="Christoph Burgdorf on Twitter">Twitter</a>
              <a class="thtrm-article-author-cta" href="http://github.com/cburgdorf" title="Christoph Burgdorf on GitHub">GitHub</a>
            </p>
          </div>
        </div>
      </div>

      <div class="thtrm-constraint">

        
        <h4 class="thtrm-section-headline thtrm-section-headline--with-big-margin thtrm-section-headline--centered">Related Posts</h4>
        <ul class="thtrm-three-column-list thtrm-three-column-list--with-padding">
        
        
          
          <li>
            <a class="thtrm-article-card" href="/rust/2015/07/29/a-web-app-with-nickel-from-first-line-to-heroku-deployment.html" title="A web app with Nickel: From first line to Heroku deployment">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/fallback.jpeg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>A web app with Nickel: From first line to Heroku deployment</h3>
                <p>Learn how to build and deploy a simple web application with Nickel, the web application server for the Rust language....</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/rust/2015/06/17/anouncing-hanovers-second-rust-meetup.html" title="Anouncing Hanover's second Rust meetup">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/fallback.jpeg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Anouncing Hanover's second Rust meetup</h3>
                <p>It's been roughly a year ago that we organized the very first Rust meetup Hanover. We'll run a second one,...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/announcements/tools/2014/09/18/announcing-clog-a-conventional-changelog-generator-for-the-rest-of-us.html" title="clog - A conventional changelog generator for the rest of us">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/fallback.jpeg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>clog - A conventional changelog generator for the rest of us</h3>
                <p>At thoughtram we teach people how to master Git. We also teach them how to maintain a semantic history. Introducing...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/announcements/rust/meetups/2014/06/24/organizing-hannovers-first-rust-meetup.html" title="Organizing Hanovers first Rust meetup">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/fallback.jpeg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Organizing Hanovers first Rust meetup</h3>
                <p>We are excited to announce that we'll run a Rust meetup in Hanover - read on for more info!</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/angular/2018/03/05/advanced-caching-with-rxjs.html" title="Advanced caching with RxJS">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/advanced_caching.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>Advanced caching with RxJS</h3>
                <p>When building web applications, performance should always be a top priority. One very efficient way to optimize the performance of...</p>
              </div>
            </a>
          </li>
        
          
          <li>
            <a class="thtrm-article-card" href="/machine-learning/2018/02/28/a-simple-guide-to-reinforcement-learning.html" title="A simple guide to Reinforcement Learning">
              <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url(/images/banner/a-simple-guide-to-reinforcement-learning.jpg);"></div>
              <div class="thtrm-article-card-content ">
                <h3>A simple guide to Reinforcement Learning</h3>
                <p>This is part one in a series of articles on Reinforcement Learning that aim to explore this exciting Machine Learning...</p>
              </div>
            </a>
          </li>
        
        
        </ul>
        

      

      </div>
    </main>
    <footer role="contentinfo" class="thtrm-footer thtrm-footer--slim">
  <div class="thtrm-footer-text">
    <img class="thtrm-footer-logo" alt="thoughtram brain" src="/images/thoughtram-brain-white.png">
    <p>This website was created in collaboration with <a href="http://twitter.com/timche_" title="Tim Cheung on Twitter"><strong>Tim Cheung</strong></a> and <a href="http://twitter.com/tim_hartmann_" title="Tim Hartmann on Twitter"><strong>Tim Hartmann</strong></a>.</p>
    <p ><a href="https://thoughtram.io/code-of-conduct.html" title="Code of Conduct">Code of Conduct</a> &bullet; <a href="https://thoughtram.io/imprint.html" title="Legal Notice">Legal notice</a></p>
    <p class="thtrm-footer-bottom">&copy; 2014-2018 thoughtram GmbH</p>
  </div>
</footer>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-51360648-2', 'auto');
ga('set', 'anonymizeIp', true);
ga('send', 'pageview');

var form = document.getElementById('search-form');
var eventCta = document.getElementById('event-cta');

if (eventCta) {

  eventCta.addEventListener('click', function (event) {
    event.preventDefault();

    setTimeout(clickLink, 1000);

    function clickLink() {
      window.location.replace(eventCta.getAttribute('href'));
    }

    ga('send', 'event', {
      eventCategory: 'Event Link',
      eventAction: 'click',
      eventLabel: eventCta.getAttribute('title'),
      hitCallback: clickLink
    });
  });
}

if (form) {

  var searchTerm = document.getElementById('search-term');

  form.addEventListener('submit', function(event) {
    event.preventDefault();

    var formSubmitted = false;

    setTimeout(submitForm, 1000);

    function submitForm() {
      if (!formSubmitted) {
        formSubmitted = true;
        form.submit();
      }
    }

    ga('send', 'event', {
      eventCategory: 'Search Form',
      eventAction: 'submit',
      eventLabel: searchTerm.value,
      hitCallback: submitForm
    });
  });
}
</script>



    <script src="/scripts/linkjuice/dist/linkjuice.js"></script>
    <script src="/scripts/main.js"></script>
  </body>
</html>
